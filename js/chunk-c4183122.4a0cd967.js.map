{"version":3,"sources":["webpack:///./src/views/CustomerInfo.vue?c3f6","webpack:///./src/views/CustomerInfo.vue?1c3e","webpack:///src/views/CustomerInfo.vue","webpack:///./src/views/CustomerInfo.vue?573f","webpack:///./src/views/CustomerInfo.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CustomerInfo_vue_vue_type_style_index_0_lang_sass___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CustomerInfo_vue_vue_type_style_index_0_lang_sass___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","on","submit","$event","preventDefault","createOrder","staticClass","for","directives","name","rawName","value","form","user","expression","class","invalid","errors","has","type","placeholder","autofocus","domProps","input","target","composing","$set","_s","first","_e","cols","rows","_m","staticRenderFns","CustomerInfovue_type_script_lang_js_","data","email","tel","address","message","methods","Object","objectSpread","vuex_esm","_this","apiUrl","concat","$validator","validate","then","valid","$http","post","response","success","updateAlertMessages","text","status","$nextTick","$route","path","$router","push","orderId","views_CustomerInfovue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-c4183122.4a0cd967.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerInfo.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerInfo.vue?vue&type=style&index=0&lang=sass&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"customer_info\"}},[_c('h3',[_vm._v(\"請填入訂單資料\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder()}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"},{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],staticClass:\"form-control\",class:{ invalid: _vm.errors.has('email') },attrs:{\"id\":\"email\",\"type\":\"email\",\"name\":\"email\",\"placeholder\":\"請輸入 email\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),(_vm.errors.has('email'))?_c('span',[_vm._v(_vm._s(_vm.errors.first('email')))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{ invalid: _vm.errors.has('name') },attrs:{\"id\":\"username\",\"type\":\"text\",\"name\":\"name\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),(_vm.errors.has('name'))?_c('span',[_vm._v(\"必須輸入收件人姓名。\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"tel\"}},[_vm._v(\"收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{ invalid: _vm.errors.has('tel') },attrs:{\"id\":\"tel\",\"type\":\"tel\",\"name\":\"tel\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),(_vm.errors.has('tel'))?_c('span',[_vm._v(\"必須輸入收件人電話。\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"address\"}},[_vm._v(\"收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{ invalid: _vm.errors.has('address') },attrs:{\"id\":\"address\",\"type\":\"text\",\"name\":\"address\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),(_vm.errors.has('address'))?_c('span',[_vm._v(\"必須輸入收件人地址。\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"comment\",\"name\":\"\",\"cols\":\"30\",\"rows\":\"5\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-right mt-5\"},[_c('button',{staticClass:\"btn_submit btn\"},[_vm._v(\"送出訂單\")])])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n#customer_info\n  h3 請填入訂單資料\n  form(@submit.prevent=\"createOrder()\")\n    .form-group\n      label(for=\"email\") Email\n      input#email.form-control(type=\"email\"\n                                name=\"email\"\n                                placeholder=\"請輸入 email\"\n                                autofocus\n                                v-model=\"form.user.email\"\n                                v-validate=\"'required|email'\"\n                                :class=\"{ invalid: errors.has('email') }\")\n      span(v-if=\"errors.has('email')\") {{ errors.first('email') }}\n    .form-group\n      label(for=\"username\") 收件人姓名\n      input#username.form-control(type=\"text\"\n                                  name=\"name\"\n                                  placeholder=\"請輸入姓名\"\n                                  v-model=\"form.user.name\"\n                                  v-validate=\"'required'\"\n                                  :class=\"{ invalid: errors.has('name') }\")\n      span(v-if=\"errors.has('name')\") 必須輸入收件人姓名。\n    .form-group\n      label(for=\"tel\") 收件人電話\n      input#tel.form-control(type=\"tel\"\n                              name=\"tel\"\n                              placeholder=\"請輸入電話\"\n                              v-model=\"form.user.tel\"\n                              v-validate=\"'required'\"\n                              :class=\"{ invalid: errors.has('tel') }\")\n      span(v-if=\"errors.has('tel')\") 必須輸入收件人電話。\n    .form-group\n      label(for=\"address\") 收件人地址\n      input#address.form-control(type=\"text\"\n                                  name=\"address\"\n                                  placeholder=\"請輸入地址\"\n                                  v-model=\"form.user.address\"\n                                  v-validate=\"'required'\"\n                                  :class=\"{ invalid: errors.has('address') }\")\n      span(v-if=\"errors.has('address')\") 必須輸入收件人地址。\n    .form-group\n      label(for=\"comment\") 留言\n      textarea#comment.form-control(name=\"\"\n                                    cols=\"30\"\n                                    rows=\"5\"\n                                    v-model=\"form.message\")\n    .text-right.mt-5\n      button.btn_submit.btn 送出訂單\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\n\nexport default {\n  data () {\n    return {\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      }\n    }\n  },\n  methods: {\n    ...mapMutations(['updateAlertMessages']),\n    createOrder () {\n      const apiUrl = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order`\n      this.$validator.validate().then(valid => {\n        if (valid) {\n          this.$http.post(apiUrl, { data: this.form }).then(response => {\n            // console.log(response.data)\n            if (response.data.success) {\n              this.updateAlertMessages({\n                text: response.data.message,\n                status: 'successful'\n              })\n              this.$nextTick(() => {\n                if (this.$route.path === '/customerinfo') {\n                  this.$router.push(`/checkout/${response.data.orderId}`)\n                } else if (this.$route.path === '/functions/customerinfo') {\n                  this.$router.push(`/functions/checkout/${response.data.orderId}`)\n                }\n              })\n            } else {\n              this.updateAlertMessages({\n                text: response.data.message,\n                status: 'unsuccessful'\n              })\n            }\n          })\n        } else {\n          this.updateAlertMessages({\n            text: '您的欄位填寫不完整',\n            status: 'unsuccessful'\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\">\n@import \"@/styles/global.sass\"\n\n// ====================\n//      MAIN\n// ==============================\n#customer_info\n  padding: 100px 0 50px 0\n  +center_flex\n  flex-direction: column\n  h3\n    margin: 0 0 20px 0\n    font-size: 1.5rem\n  form\n    width: 80%\n    max-width: 500px\n    .form-group\n      label\n        margin: 0 0 0 5px\n        font-weight: 500\n      input, textarea\n        margin: 5px 0\n        border-radius: 10px\n        box-shadow: 5px 5px 10px rgba(black, 0.05)\n        font-size: 0.9rem\n        transition: 0.4s\n        &:hover\n          transform: translate(-0.5px, -0.5px)\n          box-shadow: 5px 5px 15px rgba(black, 0.15)\n        &::placeholder\n          font-size: 0.8rem\n          color: rgba(black, 0.2)\n        &.invalid\n          border: 1px solid $c_red\n      span\n        margin: 0 0 0 5px\n        font-weight: 500\n        font-size: 0.9rem\n        color: $c_red\n    .text-right\n      .btn_submit\n        border-radius: 10px\n        background-color: $c_green\n        color: white\n        transition: 0.4s\n        &:hover\n          background-color: darken($c_green, 20)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerInfo.vue?vue&type=template&id=cb7aa9a4&lang=pug&\"\nimport script from \"./CustomerInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerInfo.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}